## 概要
ログについて記載する

## 出力ログ一覧
どういったログを考慮するか

- ネットワーク系
    - CloudFront
    - VPCフローログ
    - ALBログ
- ミドルウェア系
    - Aurora
    - WAF
- その他
    - S3
- アプリ
    - ECS
    - コンテナ内のログ

## ログの保存方針
基本は、コスト観点でS3に保存
S3に保存する場合の考慮的
- いつまで保存するか
- どんなディレクトリ配置か
- Athenaでクエリするために、どのようなETL処理をするか

### ログ分析について
ログは溜めておくだけでは意味がない。
何かしらに活用できるように、常に分析できる状態にしておく必要がある。

そのために、Glueデータカタログでログのフォーマット？を定義しておき、Athenaで分析できるようにする。

Athenaで分析する際、検索する量が少ないほどコストダウンに繋がるので、パーティション化？など、コスト最適化策が必須


## コンテナ内のログ
aws logsドライバーでもできる？

fluentbitで、全logはS3へ、エラー系はCloudWatch logsに送り、アラートがなるようにする
